\section{Introduction}

%\textit{Big Data} is a term coined to capture the essence of large datasets typical for the digital age. Big Data can be described by three aspects: \textit{volume}, \textit{velocity} and \textit{variety}, that make such data difficult to process and analyse by traditional tools and methods~\cite{doi:10.1108/LR-06-2015-0061}. Big \textit{volume} means that the data is simply too large to be processed by traditional tools. Big \textit{velocity} means that the data is growing so quickly that traditional tools cannot keep up with the pace. Big \textit{variety} can refer to high dimensionality or loosely constrained structure of a dataset.

Sophisticated mobile devices are becoming increasingly more common worldwide. In fact, the International Telecommunication Union estimates that the number of mobile devices with Internet connections was over 3.8 billion in 2016~\cite{ITUstats}. With this rapid growth in the number mobile devices, it is increasingly relevant to understand how these devices are used and how the usage patterns affect the energy consumption of these devices.    

The Carat project~\cite{Oliner:2012:CED:2387858.2387864, Oliner:2013:CCE:2517351.2517354, 7840871, PELTONEN201671, 7146507} has collected data from over 850,000 mobile devices worldwide since its initiation in 2012. The Carat data is collected from mobile device users that have installed the Carat mobile application on their device. An analysis server collects data samples sent by the Carat mobile applications whenever the user opens the mobile application. Samples are collected by the mobile application whenever the battery level of the device changes. The data samples consist of a list of system settings and context factors, a list of currently running applications and the current level of battery life. The analysis server uses the collaborative measurements to identify energy consumption anomalies from the users' applications as well as to estimate the energy consumption of individual applications.

This thesis work develops an alternative method for estimating how the above mentioned context factors, system settings, and running mobile applications of a mobile device affect its energy consumption. This method mines the Carat dataset for association rules related to a mobile application of the user's choice. The association rules are filtered so that the consequent of the rules will be an energy consumption estimate and the antecedents of the rules will contain a precondition about the values of some context factors and system settings of a mobile device. These association rules can then be interpreted as energy consumption predictions of an application given a set of preconditions about the context factors and system settings of a mobile device.      

Association rule discovery, or association analysis, is a well known data mining technique that is commonly used to discover interesting relationships in a dataset without making many assumptions about the structure of the data. Recent advances in the association rule discovery algorithms~\cite{Han:2000:MFP:335191.335372, Li:2008:PPF:1454008.1454027} allow this form of analysis to be performed quickly for relatively large datasets using distributed algorithms. These features make association analysis an appealing choice of methodology for the study of mobile application data.  

A secondary goal of this work is to implement a web based prototype API, which could be used to allow third parties, such as mobile application developers, to have access to the energy consumption predictions from the Carat dataset. Peltonen et al.~\cite{7840871} have explored different aspects of allowing third parties to have limited access to the Carat dataset. The implementation described in this thesis work attempts to conform to the constraints which Peltonen et al. describe, in order to protect the privacy of the users of the Carat mobile application. Using association rule mining effectively hide all the details about individual Carat users, protecting their privacy, while also enabling reasonably detailed aggregated view of the dataset.       

%Association rule discovery, or association analysis, is a well known data mining technique that is commonly used to discover interesting relations from a dataset without making many additional assumptions about the structure of the data. This thesis work explores the applicability of association rule discovery on Big Data. As a practical application of the theory, this thesis will demonstrate how the association rule discovery can be applied to discover relations between mobile device system settings and level of energy consumption from the data produced by Carat~\cite{Oliner:2013:CCE:2517351.2517354}, a collaborative energy diagnosis project.

%So far the Carat dataset has not been published in its entirety to ensure the privacy of the participants. As discussed in~\cite{7840871}, it would be helpful for mobile application developers to be able to access the energy consumption data of the users of their application. As a part of this thesis work, a prototype of a Carat developer web API is implemented. The API provides a search engine for mobile application developers, allowing them to search for associations between specific system settings and energy consumption level of the mobile device.   

Key research questions that this thesis answers are:

\begin{enumerate}
	\item Is it possible to generate association rules efficiently and scalably from large datasets? The solution should be fast enough to be used in a real-time query API while still having reasonable predictive power?
	\begin{enumerate}
		\item How do state of the art association rule generation techniques scale as the size of the dataset is increased?
		
		\item Can association rules be generated quickly enough to support a real-time energy prediction query API?
	\end{enumerate}		
	
	\item How to select interesting and useful association rules from the set of all generated rules? 
	
	\item How to implement a user friendly web based query engine for discovering the association rules? 
	%\item How does the discretization algorithm of continuous variables of the Carat data affect the generated association rules? 
\end{enumerate}  


This thesis consists of three main parts. Chapters one to five present the related literature and the theory on which this thesis work relies on, and explains the Carat data from which the results are derived. Chapter six presents the implementation of the analysis engine as well as the user interface. Chapters seven and eight present the results and the conclusion of this work.


%Various distributed computing technologies have emerged to tackle the difficulties of processing Big Data. Notably, there are two paradigms of distributed computing that have become increasingly popular over the last decade   
